<!DOCTYPE html>
{% load static %}
{% load custom_filters %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="csrf-token" content="{{ csrf_token }}">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'styles/style.css' %}" />

    <script>
        const url = '{% url 'product' product.produs_id %}';
    </script>

</head>
<body>
        <div class="reviews-container">
            <h2>Reviews</h2>

            <form class="add-review-form" action="" method="POST">
                {% csrf_token %}
                <div class="star-rating">
                    <input type="radio" id="star5" name="rating" value="5" hidden>
                    <label for="star5" class="star" data-value="5"></label>

                    <input type="radio" id="star4" name="rating" value="4" hidden>
                    <label for="star4" class="star" data-value="4"></label>

                    <input type="radio" id="star3" name="rating" value="3" hidden>
                    <label for="star3" class="star" data-value="3"></label>

                    <input type="radio" id="star2" name="rating" value="2" hidden>
                    <label for="star2" class="star" data-value="2"></label>

                    <input type="radio" id="star1" name="rating" value="1" hidden>
                    <label for="star1" class="star" data-value="1"></label>
                </div>
                <textarea name="input_review" placeholder="Write a review..."></textarea>
                <button type="submit" name="submit_review">Submit Review</button>
            </form>

            {% for review in review_posts %}
                <p>@{{ review.client.username }} - {{ review.post_date }}</p>
                <div class="flex-start-row-container">
                {% for i in review.nr_stars|times %}
                    <img src="{% static 'images/icons/star.png' %}" class="star-icon">
                {% endfor %}
                </div>
                <p>{{ review.body }}</p>
                <hr>
            {% endfor %}

        </div>

    <script src="{% static 'scripts/review.js' %}"></script>
</body>
</html>